# flightplan.yml - Project with pgvector (AI embeddings)
# Example: RAG app, semantic search, AI-powered features

services:
  - postgres:16-pgvector    # Postgres 16 with pgvector extension

env:
  from_file: .env.example
  secrets:
    - OPENAI_API_KEY
  set:
    NODE_ENV: development
    DATABASE_URL: ${POSTGRES_URL}

setup:
  - npm install
  - npx prisma generate
  - npx prisma migrate deploy

dev_server:
  command: npm run dev
  port: 3000

hints:
  - "pgvector is enabled for vector similarity search"
  - "Create embeddings column: vector(1536) for OpenAI ada-002"
  - "Query: SELECT * FROM items ORDER BY embedding <-> $1 LIMIT 10"
  - "Run tests with: npm test"
