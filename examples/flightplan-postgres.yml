# flightplan.yml - Node.js app with PostgreSQL
# Infrastructure-focused config, LLM discovers test commands

services:
  - postgres:16

env:
  from_file: .env.example
  secrets:
    - STRIPE_API_KEY
  set:
    NODE_ENV: development
    DATABASE_URL: ${POSTGRES_URL}

setup:
  - npm install
  - npx prisma generate
  - npx prisma migrate deploy

dev_server:
  command: npm run dev
  port: 3000

# Point LLM to docs for test conventions
docs: CONTRIBUTING.md
